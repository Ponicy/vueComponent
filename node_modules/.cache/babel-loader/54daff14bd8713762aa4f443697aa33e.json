{"remainingRequest":"/Library/WebServer/Documents/gitLab-dev/vueComponent/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/gitLab-dev/vueComponent/src/directive/tips/tips.js","dependencies":[{"path":"/Library/WebServer/Documents/gitLab-dev/vueComponent/src/directive/tips/tips.js","mtime":1555313486042},{"path":"/Library/WebServer/Documents/gitLab-dev/vueComponent/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/gitLab-dev/vueComponent/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["/*\n** 移动端顶部下滑弱提示指令\n* 传值为boolean\n*/\nimport Vue from 'vue';\nimport Tips from './Tips';\nvar Mask = Vue.extend(Tips);\nvar tipDirective = {};\n\ntipDirective.install = function (Vue) {\n  // 注册指令\n  Vue.directive('tips', {\n    bind: function bind(el, binding, vnode) {\n      var textEl = el.getAttribute('vp-tips-text');\n      var backgroundEl = el.getAttribute('vp-tips-background');\n      var vm = vnode.context;\n      var mask = new Mask({\n        el: document.createElement('div'),\n        data: {\n          text: vm && vm[textEl] || textEl,\n          background: vm && vm[backgroundEl] || backgroundEl\n        }\n      }); // 组件缓存到dom节点上\n\n      el.instance = mask; // 缓存dom节点，用以组件注销时删除节点\n\n      el.mask = mask.$el;\n      el.maskStyle = {};\n\n      if (binding.value) {\n        inserDom(el, binding);\n        hideDom(el, binding);\n      } else {}\n    },\n    update: function update(el, binding) {\n      el.instance.setText(el.getAttribute('vp-tips-text'));\n\n      if (binding.oldValue !== binding.value) {\n        if (el.domInserted) {\n          if (!el.instance.hiding) {\n            el.instance.visible = false;\n            el.instance.hiding = true;\n          } else {\n            el.instance.visible = true;\n            el.instance.hiding = false;\n          }\n        } else {\n          inserDom(el, binding);\n        }\n      }\n    },\n    unbind: function unbind(el, binding) {\n      if (el.domInserted) {\n        el.mask && el.mask.parentNode && el.mask.parentNode.removeChild(el.mask);\n      }\n\n      el.instance && el.instance.$destroy();\n    }\n  }); // 生成dom节点，插入dom节点\n\n  var inserDom = function inserDom(el, binding) {\n    document.body.appendChild(el.mask);\n    Vue.nextTick(function () {\n      el.instance.visible = true;\n      el.instance.hiding = false;\n    }); // 组件已经渲染在dom节点中\n\n    el.domInserted = true;\n  }; // 提示消失\n\n\n  var hideDom = function hideDom(el, binding) {\n    setTimeout(function () {\n      el.instance.visible = false;\n    }, 3500);\n  };\n};\n\nexport default tipDirective;",{"version":3,"sources":["/Library/WebServer/Documents/gitLab-dev/vueComponent/src/directive/tips/tips.js"],"names":["Vue","Tips","Mask","extend","tipDirective","install","directive","bind","el","binding","vnode","textEl","getAttribute","backgroundEl","vm","context","mask","document","createElement","data","text","background","instance","$el","maskStyle","value","inserDom","hideDom","update","setText","oldValue","domInserted","hiding","visible","unbind","parentNode","removeChild","$destroy","body","appendChild","nextTick","setTimeout"],"mappings":"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","sourcesContent":["/*\n** 移动端顶部下滑弱提示指令\n* 传值为boolean\n*/ \n\nimport Vue from 'vue';\nimport Tips from './Tips';\nconst Mask = Vue.extend(Tips);\n\nconst tipDirective = {};\n\ntipDirective.install = Vue => {\n\n\t// 注册指令\n\tVue.directive('tips', {\n\t\tbind: function(el, binding, vnode) {\n\t\t\tconst textEl = el.getAttribute('vp-tips-text');\n      \t\tconst backgroundEl = el.getAttribute('vp-tips-background');\n\n\t\t\tconst vm = vnode.context;\n\t\t\tconst mask = new Mask({\n\t\t        el: document.createElement('div'),\n\t\t        data: {\n\t\t          text: vm && vm[textEl] || textEl,\n\t\t          background: vm && vm[backgroundEl] || backgroundEl,\n\t\t        }\n\t      \t});\n\n\t\t\t// 组件缓存到dom节点上\n\t\t\tel.instance = mask;\n\n\t\t\t// 缓存dom节点，用以组件注销时删除节点\n      \t\tel.mask = mask.$el;\n      \t\tel.maskStyle = {};\n\n      \t\tif(binding.value) {\n      \t\t\tinserDom(el, binding);\n      \t\t\thideDom(el, binding);\n      \t\t}else{\n\n      \t\t}\n\n\t\t},\n\n\t\tupdate(el, binding) {\n\t\t\tel.instance.setText(el.getAttribute('vp-tips-text'));\n\t\t\tif (binding.oldValue !== binding.value) {\n\t        \tif(el.domInserted) {\n\n\t        \t\tif(!el.instance.hiding) {\n\t        \t\t\tel.instance.visible = false;\n\t\t\t\t\t\tel.instance.hiding = true;\n\t        \t\t}else{\n\t        \t\t\tel.instance.visible = true;\n\t\t\t\t\t\tel.instance.hiding = false;\n\t        \t\t}\n\n\t        \t}else{\n\t        \t\tinserDom(el, binding);\n\t        \t}\n\t      \t}\n\t\t},\n\n\t\tunbind: function(el, binding) {\n\t      \tif (el.domInserted) {\n\t        \tel.mask &&\n\t        \tel.mask.parentNode &&\n\t        \tel.mask.parentNode.removeChild(el.mask);\n\t      \t}\n\t      \tel.instance && el.instance.$destroy();\n\t    }\n\n\t})\n\n\n\t// 生成dom节点，插入dom节点\n\tconst inserDom = (el, binding) => {\n\t\tdocument.body.appendChild(el.mask);\n\n\t\tVue.nextTick(()=>{\n\t\t\tel.instance.visible = true;\n\t\t\tel.instance.hiding = false;\n\t\t});\n\n\t\t// 组件已经渲染在dom节点中\n\t\tel.domInserted = true;\n\t}\n\n\t// 提示消失\n\tconst hideDom = (el, binding) => {\n\t\tsetTimeout(()=>{\n\t\t\tel.instance.visible = false;\n\t\t}, 3500)\n\t}\n\n}\n\n\nexport default tipDirective;"]}]}