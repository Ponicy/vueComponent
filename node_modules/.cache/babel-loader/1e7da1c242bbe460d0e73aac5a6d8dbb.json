{"remainingRequest":"/Library/WebServer/Documents/gitLab-dev/vueComponent/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/gitLab-dev/vueComponent/src/lib/js/hotcss.js","dependencies":[{"path":"/Library/WebServer/Documents/gitLab-dev/vueComponent/src/lib/js/hotcss.js","mtime":1554358985335},{"path":"/Library/WebServer/Documents/gitLab-dev/vueComponent/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/gitLab-dev/vueComponent/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _parseInt from \"/Library/WebServer/Documents/gitLab-dev/vueComponent/node_modules/@babel/runtime-corejs2/core-js/parse-int\";\nimport _parseFloat from \"/Library/WebServer/Documents/gitLab-dev/vueComponent/node_modules/@babel/runtime-corejs2/core-js/parse-float\";\nimport \"core-js/modules/es6.regexp.match\";\n\n(function (window, document) {\n  'use strict'; //给hotcss开辟个命名空间，别问我为什么，我要给你准备你会用到的方法，免得用到的时候还要自己写。\n\n  var hotcss = {};\n\n  (function () {\n    //根据devicePixelRatio自定计算scale\n    //可以有效解决移动端1px这个世纪难题。\n    var viewportEl = document.querySelector('meta[name=\"viewport\"]'),\n        hotcssEl = document.querySelector('meta[name=\"hotcss\"]'),\n        dpr = window.devicePixelRatio || 1,\n        maxWidth = 750,\n        // maxWidth = 1080,\n    designWidth = 0;\n    dpr = dpr >= 3 ? 3 : dpr >= 2 ? 2 : 1; //允许通过自定义name为hotcss的meta头，通过initial-dpr来强制定义页面缩放\n\n    if (hotcssEl) {\n      var hotcssCon = hotcssEl.getAttribute('content');\n\n      if (hotcssCon) {\n        var initialDprMatch = hotcssCon.match(/initial\\-dpr=([\\d\\.]+)/);\n\n        if (initialDprMatch) {\n          dpr = _parseFloat(initialDprMatch[1]);\n        }\n\n        var maxWidthMatch = hotcssCon.match(/max\\-width=([\\d\\.]+)/);\n\n        if (maxWidthMatch) {\n          maxWidth = _parseFloat(maxWidthMatch[1]);\n        }\n\n        var designWidthMatch = hotcssCon.match(/design\\-width=([\\d\\.]+)/);\n\n        if (designWidthMatch) {\n          designWidth = _parseFloat(designWidthMatch[1]);\n        }\n      }\n    }\n\n    document.documentElement.setAttribute('data-dpr', dpr);\n    hotcss.dpr = dpr;\n    document.documentElement.setAttribute('max-width', maxWidth);\n    hotcss.maxWidth = maxWidth;\n\n    if (designWidth) {\n      document.documentElement.setAttribute('design-width', designWidth);\n      hotcss.designWidth = designWidth;\n    }\n\n    var scale = 1 / dpr,\n        content = 'width=device-width, initial-scale=' + scale + ', minimum-scale=' + scale + ', maximum-scale=' + scale + ', user-scalable=no';\n\n    if (viewportEl) {\n      viewportEl.setAttribute('content', content);\n    } else {\n      viewportEl = document.createElement('meta');\n      viewportEl.setAttribute('name', 'viewport');\n      viewportEl.setAttribute('content', content);\n      document.head.appendChild(viewportEl);\n    }\n  })();\n\n  hotcss.px2rem = function (px, designWidth) {\n    //预判你将会在JS中用到尺寸，特提供一个方法助你在JS中将px转为rem。就是这么贴心。\n    if (!designWidth) {\n      //如果你在JS中大量用到此方法，建议直接定义 hotcss.designWidth 来定义设计图尺寸;\n      //否则可以在第二个参数告诉我你的设计图是多大。\n      designWidth = _parseInt(hotcss.designWidth, 10);\n    }\n\n    return _parseInt(px, 10) * 320 / designWidth / 20;\n  };\n\n  hotcss.rem2px = function (rem, designWidth) {\n    //新增一个rem2px的方法。用法和px2rem一致。\n    if (!designWidth) {\n      designWidth = _parseInt(hotcss.designWidth, 10);\n    } //rem可能为小数，这里不再做处理了\n\n\n    return rem * 20 * designWidth / 320;\n  };\n\n  hotcss.mresize = function () {\n    //对，这个就是核心方法了，给HTML设置font-size。\n    var innerWidth = document.documentElement.getBoundingClientRect().width || window.innerWidth;\n\n    if (hotcss.maxWidth && innerWidth / hotcss.dpr > hotcss.maxWidth) {\n      innerWidth = hotcss.maxWidth * hotcss.dpr;\n    }\n\n    if (!innerWidth) {\n      return false;\n    }\n\n    document.documentElement.style.fontSize = innerWidth * 20 / 320 + 'px';\n    hotcss.callback && hotcss.callback();\n  };\n\n  hotcss.mresize(); //直接调用一次\n\n  window.addEventListener('resize', function () {\n    clearTimeout(hotcss.tid);\n    hotcss.tid = setTimeout(hotcss.mresize, 33);\n  }, false); //绑定resize的时候调用\n\n  window.addEventListener('load', hotcss.mresize, false); //防止不明原因的bug。load之后再调用一次。\n\n  setTimeout(function () {\n    hotcss.mresize(); //防止某些机型怪异现象，异步再调用一次\n  }, 333);\n  window.hotcss = hotcss; //命名空间暴露给你，控制权交给你，想怎么调怎么调。\n})(window, document);",{"version":3,"sources":["/Library/WebServer/Documents/gitLab-dev/vueComponent/src/lib/js/hotcss.js"],"names":["window","document","hotcss","viewportEl","querySelector","hotcssEl","dpr","devicePixelRatio","maxWidth","designWidth","hotcssCon","getAttribute","initialDprMatch","match","maxWidthMatch","designWidthMatch","documentElement","setAttribute","scale","content","createElement","head","appendChild","px2rem","px","rem2px","rem","mresize","innerWidth","getBoundingClientRect","width","style","fontSize","callback","addEventListener","clearTimeout","tid","setTimeout"],"mappings":";;;;AAAA,CAAC,UAAUA,MAAV,EAAmBC,QAAnB,EAA6B;AAE1B,eAF0B,CAI1B;;AACA,MAAIC,MAAM,GAAG,EAAb;;AAEA,GAAC,YAAW;AACR;AACA;AACA,QAAIC,UAAU,GAAGF,QAAQ,CAACG,aAAT,CAAuB,uBAAvB,CAAjB;AAAA,QACIC,QAAQ,GAAGJ,QAAQ,CAACG,aAAT,CAAuB,qBAAvB,CADf;AAAA,QAEIE,GAAG,GAAGN,MAAM,CAACO,gBAAP,IAA2B,CAFrC;AAAA,QAGIC,QAAQ,GAAG,GAHf;AAAA,QAII;AACAC,IAAAA,WAAW,GAAG,CALlB;AAOAH,IAAAA,GAAG,GAAGA,GAAG,IAAI,CAAP,GAAW,CAAX,GAAiBA,GAAG,IAAG,CAAN,GAAU,CAAV,GAAc,CAArC,CAVQ,CAYR;;AACA,QAAID,QAAJ,EAAc;AACV,UAAIK,SAAS,GAAGL,QAAQ,CAACM,YAAT,CAAsB,SAAtB,CAAhB;;AACA,UAAID,SAAJ,EAAe;AACX,YAAIE,eAAe,GAAGF,SAAS,CAACG,KAAV,CAAgB,wBAAhB,CAAtB;;AACA,YAAID,eAAJ,EAAqB;AACjBN,UAAAA,GAAG,GAAG,YAAWM,eAAe,CAAC,CAAD,CAA1B,CAAN;AACH;;AACD,YAAIE,aAAa,GAAGJ,SAAS,CAACG,KAAV,CAAgB,sBAAhB,CAApB;;AACA,YAAIC,aAAJ,EAAmB;AACfN,UAAAA,QAAQ,GAAG,YAAWM,aAAa,CAAC,CAAD,CAAxB,CAAX;AACH;;AACD,YAAIC,gBAAgB,GAAGL,SAAS,CAACG,KAAV,CAAgB,yBAAhB,CAAvB;;AACA,YAAIE,gBAAJ,EAAsB;AAClBN,UAAAA,WAAW,GAAG,YAAWM,gBAAgB,CAAC,CAAD,CAA3B,CAAd;AACH;AACJ;AACJ;;AAEDd,IAAAA,QAAQ,CAACe,eAAT,CAAyBC,YAAzB,CAAsC,UAAtC,EAAkDX,GAAlD;AACAJ,IAAAA,MAAM,CAACI,GAAP,GAAaA,GAAb;AAEAL,IAAAA,QAAQ,CAACe,eAAT,CAAyBC,YAAzB,CAAsC,WAAtC,EAAmDT,QAAnD;AACAN,IAAAA,MAAM,CAACM,QAAP,GAAkBA,QAAlB;;AAEA,QAAIC,WAAJ,EAAiB;AACbR,MAAAA,QAAQ,CAACe,eAAT,CAAyBC,YAAzB,CAAsC,cAAtC,EAAsDR,WAAtD;AACAP,MAAAA,MAAM,CAACO,WAAP,GAAqBA,WAArB;AACH;;AAED,QAAIS,KAAK,GAAG,IAAIZ,GAAhB;AAAA,QACIa,OAAO,GAAG,uCAAuCD,KAAvC,GAA+C,kBAA/C,GAAoEA,KAApE,GAA4E,kBAA5E,GAAiGA,KAAjG,GAAyG,oBADvH;;AAGA,QAAIf,UAAJ,EAAgB;AACZA,MAAAA,UAAU,CAACc,YAAX,CAAwB,SAAxB,EAAmCE,OAAnC;AACH,KAFD,MAEO;AACHhB,MAAAA,UAAU,GAAGF,QAAQ,CAACmB,aAAT,CAAuB,MAAvB,CAAb;AACAjB,MAAAA,UAAU,CAACc,YAAX,CAAwB,MAAxB,EAAgC,UAAhC;AACAd,MAAAA,UAAU,CAACc,YAAX,CAAwB,SAAxB,EAAmCE,OAAnC;AACAlB,MAAAA,QAAQ,CAACoB,IAAT,CAAcC,WAAd,CAA0BnB,UAA1B;AACH;AAEJ,GAtDD;;AAwDAD,EAAAA,MAAM,CAACqB,MAAP,GAAgB,UAAUC,EAAV,EAAef,WAAf,EAA4B;AACxC;AACA,QAAI,CAACA,WAAL,EAAkB;AACd;AACA;AACAA,MAAAA,WAAW,GAAG,UAASP,MAAM,CAACO,WAAhB,EAA8B,EAA9B,CAAd;AACH;;AAED,WAAO,UAASe,EAAT,EAAY,EAAZ,IAAgB,GAAhB,GAAoBf,WAApB,GAAgC,EAAvC;AACH,GATD;;AAWAP,EAAAA,MAAM,CAACuB,MAAP,GAAgB,UAAUC,GAAV,EAAgBjB,WAAhB,EAA6B;AACzC;AACA,QAAI,CAACA,WAAL,EAAkB;AACdA,MAAAA,WAAW,GAAG,UAASP,MAAM,CAACO,WAAhB,EAA8B,EAA9B,CAAd;AACH,KAJwC,CAKzC;;;AACA,WAAOiB,GAAG,GAAC,EAAJ,GAAOjB,WAAP,GAAmB,GAA1B;AACH,GAPD;;AASAP,EAAAA,MAAM,CAACyB,OAAP,GAAiB,YAAU;AACvB;AACA,QAAIC,UAAU,GAAG3B,QAAQ,CAACe,eAAT,CAAyBa,qBAAzB,GAAiDC,KAAjD,IAA0D9B,MAAM,CAAC4B,UAAlF;;AAEA,QAAI1B,MAAM,CAACM,QAAP,IAAoBoB,UAAU,GAAC1B,MAAM,CAACI,GAAlB,GAAwBJ,MAAM,CAACM,QAAvD,EAAkE;AAC9DoB,MAAAA,UAAU,GAAG1B,MAAM,CAACM,QAAP,GAAgBN,MAAM,CAACI,GAApC;AACH;;AAED,QAAI,CAACsB,UAAL,EAAiB;AAAE,aAAO,KAAP;AAAc;;AAEjC3B,IAAAA,QAAQ,CAACe,eAAT,CAAyBe,KAAzB,CAA+BC,QAA/B,GAA4CJ,UAAU,GAAC,EAAX,GAAc,GAAhB,GAAwB,IAAlE;AAEA1B,IAAAA,MAAM,CAAC+B,QAAP,IAAmB/B,MAAM,CAAC+B,QAAP,EAAnB;AAEH,GAdD;;AAgBA/B,EAAAA,MAAM,CAACyB,OAAP,GAnG0B,CAoG1B;;AAEA3B,EAAAA,MAAM,CAACkC,gBAAP,CAAyB,QAAzB,EAAoC,YAAU;AAC1CC,IAAAA,YAAY,CAAEjC,MAAM,CAACkC,GAAT,CAAZ;AACAlC,IAAAA,MAAM,CAACkC,GAAP,GAAaC,UAAU,CAAEnC,MAAM,CAACyB,OAAT,EAAmB,EAAnB,CAAvB;AACH,GAHD,EAGI,KAHJ,EAtG0B,CA0G1B;;AAEA3B,EAAAA,MAAM,CAACkC,gBAAP,CAAyB,MAAzB,EAAkChC,MAAM,CAACyB,OAAzC,EAAmD,KAAnD,EA5G0B,CA6G1B;;AAGAU,EAAAA,UAAU,CAAC,YAAU;AACjBnC,IAAAA,MAAM,CAACyB,OAAP,GADiB,CAEjB;AACH,GAHS,EAGR,GAHQ,CAAV;AAKA3B,EAAAA,MAAM,CAACE,MAAP,GAAgBA,MAAhB,CArH0B,CAsH1B;AAGH,CAzHD,EAyHIF,MAzHJ,EAyHaC,QAzHb","sourcesContent":["(function( window , document ){\n\n    'use strict';\n\n    //给hotcss开辟个命名空间，别问我为什么，我要给你准备你会用到的方法，免得用到的时候还要自己写。\n    var hotcss = {};\n\n    (function() {\n        //根据devicePixelRatio自定计算scale\n        //可以有效解决移动端1px这个世纪难题。\n        var viewportEl = document.querySelector('meta[name=\"viewport\"]'),\n            hotcssEl = document.querySelector('meta[name=\"hotcss\"]'),\n            dpr = window.devicePixelRatio || 1,\n            maxWidth = 750,\n            // maxWidth = 1080,\n            designWidth = 0;\n\n        dpr = dpr >= 3 ? 3 : ( dpr >=2 ? 2 : 1 );\n\n        //允许通过自定义name为hotcss的meta头，通过initial-dpr来强制定义页面缩放\n        if (hotcssEl) {\n            var hotcssCon = hotcssEl.getAttribute('content');\n            if (hotcssCon) {\n                var initialDprMatch = hotcssCon.match(/initial\\-dpr=([\\d\\.]+)/);\n                if (initialDprMatch) {\n                    dpr = parseFloat(initialDprMatch[1]);\n                }\n                var maxWidthMatch = hotcssCon.match(/max\\-width=([\\d\\.]+)/);\n                if (maxWidthMatch) {\n                    maxWidth = parseFloat(maxWidthMatch[1]);\n                }\n                var designWidthMatch = hotcssCon.match(/design\\-width=([\\d\\.]+)/);\n                if (designWidthMatch) {\n                    designWidth = parseFloat(designWidthMatch[1]);\n                }\n            }\n        }\n\n        document.documentElement.setAttribute('data-dpr', dpr);\n        hotcss.dpr = dpr;\n\n        document.documentElement.setAttribute('max-width', maxWidth);\n        hotcss.maxWidth = maxWidth;\n\n        if( designWidth ){\n            document.documentElement.setAttribute('design-width', designWidth);\n            hotcss.designWidth = designWidth;\n        }\n\n        var scale = 1 / dpr,\n            content = 'width=device-width, initial-scale=' + scale + ', minimum-scale=' + scale + ', maximum-scale=' + scale + ', user-scalable=no';\n\n        if (viewportEl) {\n            viewportEl.setAttribute('content', content);\n        } else {\n            viewportEl = document.createElement('meta');\n            viewportEl.setAttribute('name', 'viewport');\n            viewportEl.setAttribute('content', content);\n            document.head.appendChild(viewportEl);\n        }\n\n    })();\n\n    hotcss.px2rem = function( px , designWidth ){\n        //预判你将会在JS中用到尺寸，特提供一个方法助你在JS中将px转为rem。就是这么贴心。\n        if( !designWidth ){\n            //如果你在JS中大量用到此方法，建议直接定义 hotcss.designWidth 来定义设计图尺寸;\n            //否则可以在第二个参数告诉我你的设计图是多大。\n            designWidth = parseInt(hotcss.designWidth , 10);\n        }\n\n        return parseInt(px,10)*320/designWidth/20;\n    }\n\n    hotcss.rem2px = function( rem , designWidth ){\n        //新增一个rem2px的方法。用法和px2rem一致。\n        if( !designWidth ){\n            designWidth = parseInt(hotcss.designWidth , 10);\n        }\n        //rem可能为小数，这里不再做处理了\n        return rem*20*designWidth/320;\n    }\n\n    hotcss.mresize = function(){\n        //对，这个就是核心方法了，给HTML设置font-size。\n        var innerWidth = document.documentElement.getBoundingClientRect().width || window.innerWidth;\n\n        if( hotcss.maxWidth && (innerWidth/hotcss.dpr > hotcss.maxWidth) ){\n            innerWidth = hotcss.maxWidth*hotcss.dpr;\n        }\n\n        if( !innerWidth ){ return false;}\n\n        document.documentElement.style.fontSize = ( innerWidth*20/320 ) + 'px';\n\n        hotcss.callback && hotcss.callback();\n\n    };\n\n    hotcss.mresize(); \n    //直接调用一次\n\n    window.addEventListener( 'resize' , function(){\n        clearTimeout( hotcss.tid );\n        hotcss.tid = setTimeout( hotcss.mresize , 33 );\n    } , false ); \n    //绑定resize的时候调用\n\n    window.addEventListener( 'load' , hotcss.mresize , false ); \n    //防止不明原因的bug。load之后再调用一次。\n\n\n    setTimeout(function(){\n        hotcss.mresize(); \n        //防止某些机型怪异现象，异步再调用一次\n    },333)\n\n    window.hotcss = hotcss; \n    //命名空间暴露给你，控制权交给你，想怎么调怎么调。\n\n\n})( window , document );"]}]}